
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0">
<title>Interpreter</title>
<script type="module">
	
	import { make_host } from '../source/host.js'
	
	const host = make_host()
	
	if (true) host.evaluate(`
		do(
			emit('svg', '<svg></svg>')
			emit(bus(bus), 'svg', '<svg></svg>')
			print('hello', 'world')
			set('a', 11)
			print('a: ', get('a'))
			loop(from(0), to(4), step(2), do(
				print('do print loop item: ', get('i'))
			))
			loop(to(50), do(
				emit('point', stringify(object(
					x(i()),
					y(sine(i()))
				)))
			))
			loop(do(
				print('do print loop item: ', i())
			))
		)
	`)
	
	if (true) host.evaluate(`
		do(
			emit('point', stringify(object(
				x(10),
				y(sine(x()))
			)))
		)
	`)
	
	if (false) host.evaluate(`
		do(
			i(1)
			print('i',i())
		)
	`)
	
	if (false) host.evaluate(`
		do(
			set(i, 0)
			while(less(i, 5), do(
				print('i:', i)
				set(m, 'mmm')
			))
			print('m', m)
		)
	`)
	
</script>
<script type="text/interpreted">
	
	run(print('hello', 'world'))
	
</script>
</head>
<body>
</body>
</html>
